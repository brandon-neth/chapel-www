<!DOCTYPE html>

<html data-theme="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="#00cbff" name="theme-color"/>
<meta content="An introduction to new editor features supported by Chapel." name="description"/>
<link href="//cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" media="screen,print" rel="stylesheet"/>
<style>.sidenote-checkbox { display: none; }</style>
<style>.feather { width: 1rem; height: 1rem; }</style>
<link href="../../scss/style.min.css" media="screen,print" rel="stylesheet"/>
<link href="../../scss/sidenotes.min.css" media="screen,print" rel="stylesheet"/>
<link href="../../css/syntax.min.css" media="screen,print" rel="stylesheet"/>
<link href="../../scss/syntax-terminal.min.css" media="screen,print" rel="stylesheet"/>
<link href="../../scss/code.min.css" media="screen,print" rel="stylesheet"/>
<link href="../../img/favicon.ico" rel="icon" type="image/png"/>
<script defer="" src="../../js/dropdown-menu.js"></script>
<title>Supercharged Chapel Editor Support</title>
</head>
<body>
<header>
<div class="container">
<a class="site-title" href="../../">
<img alt="Chapel logo" height="50" src="../../img/logo.png" width="50"/>
<h1>Chapel Language Blog</h1>
</a>
</div>
<nav id="Header">
<div class="container">
<a href="../../about">About</a>
<a href="https://chapel-lang.org">Chapel Website</a>
<a href="../../featured">Featured</a>
<a href="../../series">Series</a>
<a href="../../tags">Tags</a>
<a href="../../authors">Authors</a>
<a href="../../posts">All Posts</a>
</div>
</nav>
</header>
<main class="container">
<h2>Supercharged Chapel Editor Support</h2>
<div class="post-subscript">
<p>Posted on April 4, 2024.</p>
<p>
        Tags:
        
        <a class="button" href="../../tags/tools">Tools</a>
<a class="button" href="../../tags/chapel-2.0">Chapel 2.0</a>
<a class="button" href="../../tags/dyno">Dyno</a>
</p>
<p>
    By:
    <a href="../../authors/jade-abraham">Jade Abraham</a>, <a href="../../authors/daniel-fedorin">Daniel Fedorin</a>
</p>
</div>
<div class="post-content">
<div class="table-of-contents">
<div class="wrapper">
<span class="header">Table of Contents</span>
<nav id="TableOfContents">
<ul>
<li><a href="#feature-highlights">Feature Highlights</a>
<ul>
<li><a href="#go-to-definition">Go-to-Definition</a></li>
<li><a href="#hover-for-documentation">Hover for Documentation</a></li>
<li><a href="#refactoring-code">Refactoring Code</a></li>
<li><a href="#diagnostics">Diagnostics</a></li>
<li><a href="#resolving-diagnostics">Resolving Diagnostics</a></li>
</ul>
</li>
<li><a href="#using-cls-in-your-application">Using CLS in your application</a></li>
<li><a href="#experimental-features">Experimental Features</a>
<ul>
<li><a href="#type-inlays">Type Inlays</a></li>
<li><a href="#dead-code">Dead Code</a></li>
<li><a href="#generics">Generics</a></li>
<li><a href="#call-graphs">Call Graphs</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
</div>
</div>
<p>With the <a href="../../posts/announcing-chapel-2.0/">2.0 release of Chapel</a>,
many areas of the language have seen significant improvement. Several of these
improvements have changed Chapel’s compiler and ecosystem, allowing the team to
create a fully-featured <em>Language Server</em> for Chapel.  This brings tons of interactive features to your text editor,
making writing and reading Chapel code easier than ever.</p>
<p>In this article, we show off many of the exciting features of this new tool,
<a href="https://chapel-lang.org/docs/2.0/tools/chpl-language-server/chpl-language-server.html" rel="noopener" target="_blank">Chapel Language Server (CLS)</a>.
Although demonstrations throughout the article are made using VSCode, CLS
itself is editor-agnostic. This means that you can configure
<span class="sidenote"><label class="sidenote-label" for="sidenote-0">your editor of choice</label><input class="sidenote-checkbox" id="sidenote-0" type="checkbox"/><span class="sidenote-content sidenote-right"><span class="sidenote-delimiter">[note:</span>The Chapel team currently actively supports VSCode and NeoVim, but any editor
that supports the Language Server Protocol plugins can use these same features.
If you need support getting CLS in your favorite editor please let us know!<span class="sidenote-delimiter">]</span></span></span> to do many of the same things.</p>
<h3 id="feature-highlights">
<a href="#feature-highlights">Feature Highlights</a>
</h3>
<p>Let’s walk through one of our example codes,
<a href="https://github.com/chapel-lang/chapel/blob/release/2.0/test/release/examples/primers/fileIO.chpl" rel="noopener" target="_blank"><code>examples/primers/fileIO.chpl</code></a>
and see the Chapel Language Server in action!</p>
<h4 id="go-to-definition">
<a href="#go-to-definition">Go-to-Definition</a>
</h4>
<p>Reading through this file, we see a procedure named <code>writeSquareArray</code> being
called. While we could search through the file manually for anything named
<code>writeSquareArray</code>, it is faster to go straight to its definition using
the editor’s features:</p>
<figure class="fullwide"><img alt="Jumping to a symbol’s definition" src="../../posts/chapel-lsp/gotodef.gif"/><figcaption>
<p>Jumping to a symbol’s definition</p>
</figcaption>
</figure>
<h4 id="hover-for-documentation">
<a href="#hover-for-documentation">Hover for Documentation</a>
</h4>
<p>Inside of <code>writeSquareArray</code>, we see a file being opened with an <code>ioMode</code>
argument. This is a great opportunity to show off more features; we can hover
over it and see the documentation for <code>ioMode</code> right inside the editor:</p>
<figure class="fullwide"><img alt="Viewing a symbol’s declaration and documentation" src="../../posts/chapel-lsp/hover.gif"/><figcaption>
<p>Viewing a symbol’s declaration and documentation</p>
</figcaption>
</figure>
<p>Of course, we could also jump straight to its definition in the standard modules
and inspect the implementation directly.</p>
<h4 id="refactoring-code">
<a href="#refactoring-code">Refactoring Code</a>
</h4>
<p>The next feature we show off is applying code modifications. We can use the
<em>Rename Symbol</em> feature to change all occurrences of a symbol to a new name.
For example, here, we rename <code>writer</code> to <code>myWriter</code>:</p>
<figure class="fullwide"><img alt="Renaming a symbol" src="../../posts/chapel-lsp/rename.gif"/><figcaption>
<p>Renaming a symbol</p>
</figcaption>
</figure>
<h4 id="diagnostics">
<a href="#diagnostics">Diagnostics</a>
</h4>
<p>With CLS running in an editor, we can see warnings and errors in real time. The following code produces both a warning and an error:</p>
<div data-code-path="code/diagnostics.chpl" data-code-section="middle" data-code-type="main" data-start-line="1">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="nx">BlockDist</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">config</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="nx">_000</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">const</span><span class="w"> </span><span class="nx">D</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Block</span><span class="p">.</span><span class="nx">createArray</span><span class="p">(</span><span class="nx">D</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">forall</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="kd">in</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">here</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Without running the compiler, we can see that the editor is already showing us this information:</p>
<figure class="fullwide"><img alt="Viewing diagnostics in the editor" src="../../posts/chapel-lsp/diagnostics.png"/><figcaption>
<p>Viewing diagnostics in the editor</p>
</figcaption>
</figure>
<h4 id="resolving-diagnostics">
<a href="#resolving-diagnostics">Resolving Diagnostics</a>
</h4>
<p>The last of the core features we want to show is a more complex code
modification. Not only can we see diagnostics right in
the editor, but in some cases we can automatically resolve them. Currently, we
have a number of deprecations wired up to support this. Let’s see this in action:</p>
<figure class="fullwide"><img alt="Automatically resolving deprecations" src="../../posts/chapel-lsp/resolveDiagnostics.gif"/><figcaption>
<p>Automatically resolving deprecations</p>
</figcaption>
</figure>
<p>All of these features mean you spend less effort on the mechanics of writing
code and more time thinking about the problem you’re trying to solve.</p>
<h3 id="using-cls-in-your-application">
<a href="#using-cls-in-your-application">Using CLS in your application</a>
</h3>
<p>So far, we have shown the language server working on a single file that is only
using the Chapel standard library. The CLS features we’ve shown off so far can
also be used with large projects that have complex build systems. To support that,
we provide <code>chpl-shim</code>, a utility that inspects the build process to collect
all the information the language server needs. All that is required is to prefix
the compilation command; for example, instead of <code>chpl ...</code> we use <code>chpl-shim chpl ...</code>.</p>
<p>Let’s take <a href="https://github.com/bears-r-us/arkouda#readme" rel="noopener" target="_blank">Arkouda</a>, a Python
data analytics package written in Chapel, as an example. After installing all
of the dependencies, Arkouda is built by calling <code>make</code>. To gather build
information for CLS, we can invoke:</p>
<div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">$CHPL_HOME</span>/tools/chpl-language-server/chpl-shim make
</span></span></code></pre></div><p>This creates a <code>.cls-commands.json</code> file that contains all of the information CLS needs. Now when we open the Arkouda project in our editor, we can use all of the features we’ve shown off so far.</p>
<figure class="fullwide"><img alt="CLS in Arkouda" src="../../posts/chapel-lsp/arkouda.gif"/><figcaption>
<p>CLS in Arkouda</p>
</figcaption>
</figure>
<p>One thing to watch for in this demo is how fast it is. Arkouda is a large
project at nearly 40,000 lines of Chapel code. You can see this when we jump to
the definition of <code>NumPyDType</code>. The first time,
<span class="sidenote"><label class="sidenote-label" for="sidenote-1">it takes a second.</label><input class="sidenote-checkbox" id="sidenote-1" type="checkbox"/><span class="sidenote-content sidenote-right"><span class="sidenote-delimiter">[note:</span>These demos were done using a debug build of the compiler, causing this slight delay. When using a release build, this initial delay is greatly reduced.<span class="sidenote-delimiter">]</span></span></span>
The second time, it is instantaneous. This is because the language server is
using the Dyno compiler library, which uses a query system to quickly respond
to incremental changes in files by only recomputing what has actually changed.</p>
<details>
<summary><strong>(Tell me more about Dyno)</strong></summary>
<div style="padding-left: 2vw; padding-right: 2vw; padding-bottom: 2ch;">
<p>The Chapel language is currently in the middle of a compiler revamp, a project
we have been calling <em>Dyno</em>. Dyno is a compiler library that is used in the
<code>chpl</code> compiler while also serving as a resource for other programs like the language
server. This allows tool writers to use the same parsing and resolution logic
as the compiler. For example, <code>chpldoc</code>, our documentation generation tool, is built using
the Dyno library. We can also use it to build tools like the Chapel linter—<code>chplcheck</code>—and
of course the language server.</p>
<p>Having the compiler as a library is great, but there’s much more to Dyno than
that! The Dyno query system enables rapid responses to incremental changes in
files by only recomputing what has actually changed. If we modify one local
variable in a subroutine, we will only re-resolve aspects of that routine’s
body that are sensitive to the change. This means that when using tools built
on Dyno, you get real-time feedback as you write code.</p>
</div>
</details>
<h3 id="experimental-features">
<a href="#experimental-features">Experimental Features</a>
</h3>
<p>With Dyno, features based on <em>type resolution</em> are becoming available to tools,
including the Chapel Language Server. Although type resolution is still a work
in progress, we’d like to showcase some advanced features that rely on it.</p>
<h4 id="type-inlays">
<a href="#type-inlays">Type Inlays</a>
</h4>
<p>The first feature we want to show off is <em>type inlays</em>. These are hints that
display the (inferred) type of a variable declaration if one is not explicitly
provided. For example, you might have a declaration like this:</p>
<div data-code-path="code/somecomplexfunction.chpl" data-code-section="middle" data-code-type="main" data-start-line="7">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">someComplexFunction</span><span class="p">(</span><span class="nx">z</span><span class="o">=</span><span class="s">"Hello"</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">=</span><span class="mf">42.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>What’s the type of ‘result’? Type inlays make the answer evident at a glance:</p>
<figure class="fullwide"><img alt="Displaying an inferred variable type" src="../../posts/chapel-lsp/resultTypeInlay.png"/><figcaption>
<p>Displaying an inferred variable type</p>
</figcaption>
</figure>
<h4 id="dead-code">
<a href="#dead-code">Dead Code</a>
</h4>
<p>We can show off another feature of CLS using <code>if</code>-statements whose
branches are known at compile-time. Since the compiler discards branches that
it knows cannot be taken, the code in those branches never runs. When CLS
detects such code, it displays the dead code as a comment. For
example, consider the following excerpt:</p>
<div data-code-path="code/somecomplexfunction.chpl" data-code-section="middle" data-code-type="main" data-start-line="16">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="kd">param</span><span class="w"> </span><span class="nx">firstParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nx">secondParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">firstParam</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nx">thirdParam</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="nx">firstParam</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nx">thirdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"hello"</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nx">thirdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"goodbye"</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Since we declared <code>firstParam</code> to be <code>1</code> above, the <code>else</code> branch will never
be taken. Because of this, CLS displays that branch using the editor’s
comment color, indicating that <code>thirdParam</code> is set to <code>"hello"</code>.</p>
<figure class="fullwide"><img alt="Identifying dead code in conditionals" src="../../posts/chapel-lsp/deadCode.png"/><figcaption>
<p>Identifying dead code in conditionals</p>
</figcaption>
</figure>
<h4 id="generics">
<a href="#generics">Generics</a>
</h4>
<p>Let’s move on to another fun feature: displaying instantiations. Chapel
supports <em>generic</em> procedures. Instead of accepting only one type of expression
for each argument, these procedures allow different types at different callsites. For example, here’s
a toy procedure, <code>assignOneToAnother</code>, that takes a reference to a variable and
sets that variable to a new value:</p>
<div data-code-path="code/somecomplexfunction.chpl" data-code-section="middle" data-code-type="main" data-start-line="26">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="k">proc</span><span class="w"> </span><span class="nf">assignOneToAnother</span><span class="p">(</span><span class="kd">ref</span><span class="w"> </span><span class="nx">changeMe</span><span class="p">,</span><span class="w"> </span><span class="nx">changeTo</span><span class="p">:</span><span class="w"> </span><span class="nx">changeMe</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nx">changeMe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">changeTo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Note that we haven’t specified the type of <code>changeMe</code>, and therefore, any type
can serve as an argument. We did, however, constrain the type of <code>changeTo</code>.
Thus, the procedure has to be called with two integers, or two strings, but
not an integer and a string. Having defined our procedure, let’s call it with
two different sets of arguments:</p>
<div data-code-path="code/somecomplexfunction.chpl" data-code-section="middle" data-code-type="main" data-start-line="29">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="kd">var</span><span class="w"> </span><span class="nx">myIntVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">41</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nx">assignOneToAnother</span><span class="p">(</span><span class="nx">myIntVar</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nx">myStringVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"hello"</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nx">assignOneToAnother</span><span class="p">(</span><span class="nx">myStringVar</span><span class="p">,</span><span class="w"> </span><span class="s">"world"</span><span class="p">);</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Now there are two instantiations of <code>assignOneToAnother</code>: one with integer
arguments, and one with string arguments. We can view both of them, and
have the type hints inform us of the types of various intermediate variables
in the procedure’s body. Here’s an animated demo:</p>
<figure class="fullwide"><img alt="Viewing different instantiations of a generic procedure" src="../../posts/chapel-lsp/instantiations1.gif"/><figcaption>
<p>Viewing different instantiations of a generic procedure</p>
</figcaption>
</figure>
<p>Chapel allows compile-time inspection of types too. Generic procedures often
make use of this, by checking if an argument is of a certain type and
changing behavior accordingly. For example, one might see a pattern like
the following:</p>
<div data-code-path="code/somecomplexfunction.chpl" data-code-section="middle" data-code-type="main" data-start-line="34">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="k">proc</span><span class="w"> </span><span class="nf">typeSupportsEfficientOperation</span><span class="p">(</span><span class="kd">type</span><span class="w"> </span><span class="nx">t</span><span class="p">)</span><span class="w"> </span><span class="kd">param</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">int</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">doEfficientOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">doSlowOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">3.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.14</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">genericFunction</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="nx">typeSupportsEfficientOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">doEfficientOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">doSlowOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Here, we have a compile-time procedure that checks if some type allows for
executing an operation more efficiently. In our case, we pretend that
there’s an efficient implementation of our operation (computing pi),
called <code>doEfficientOperation</code>, that works only with integer arguments. For
all other types of arguments, we fall back to the imaginary “slow” version,
<code>doSlowOperation</code>. In this case, to represent the fact that it’s “slow”, we
wrote it with an addition. We stress that this is a toy example, only meant
to illustrate a common pattern in Chapel code.</p>
<p>Finally, <code>genericFunction</code> accepts any argument <code>x</code>, and decides whether
it should perform the operation efficiently or slowly. It relies on the
result of calling <code>typeSupportsEfficientOperation</code>.</p>
<p>When we view instantiations of this procedure, we see that CLS is smart enough
to figure out the value of the <code>if</code>-statement in each version of the procedure,
and it highlights the branch that’s taken: <code>doEfficientOperation</code> for the <code>int</code>
argument, and <code>doSlowOperation</code> for the <code>string</code> argument:</p>
<figure class="fullwide"><img alt="Detecting dead code in different instantiations of a generic function" src="../../posts/chapel-lsp/instantiations2.gif"/><figcaption>
<p>Detecting dead code in different instantiations of a generic function</p>
</figcaption>
</figure>
<h4 id="call-graphs">
<a href="#call-graphs">Call Graphs</a>
</h4>
<p>The final feature we want to show off is the <em>call graph</em>. This feature allows
you to view the incoming and outgoing calls for particular procedures. For
example, perhaps you have found a procedure and want to determine where it
is called from. In the animated example below, we use the call graph
to find where <code>doEfficientOperation</code> is used in our test file:</p>
<figure class="fullwide"><img alt="Viewing calls to a procedure using CLS" src="../../posts/chapel-lsp/callGraph.gif"/><figcaption>
<p>Viewing calls to a procedure using CLS</p>
</figcaption>
</figure>
<p>Notice that in this example, although <code>genericFunction</code> is called twice,
it only shows up once in the list of callers for <code>doEfficientOperation</code>, and
only the <code>int</code>-based call to it is shown. This is because CLS detects that
only one of the instantiations of <code>genericFunction</code> (namely the one with
integers) calls <code>genericFunction</code>, and thus, only the <code>genericFunction(42)</code>
results in a call to <code>doEfficientOperation</code>.</p>
<p>When developing Chapel code, one might be interested in figuring out why
exactly a procedure has certain instantiations. The instantiations feature can
be used in tandem with the call graph to individually inspect where each
instantiation is called from.</p>
<figure class="fullwide"><img alt="Finding calls to different instantiations of a procedure" src="../../posts/chapel-lsp/findingInstantiations.gif"/><figcaption>
<p>Finding calls to different instantiations of a procedure</p>
</figcaption>
</figure>
<p>You can view the file used for these examples here:</p>
<div class="file" data-code-path="code/somecomplexfunction.chpl" data-code-type="main" data-start-line="1">
<details>
<summary class="file-header">
<a download="somecomplexfunction.chpl" href="code/somecomplexfunction.chpl">somecomplexfunction.chpl</a>
</summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-Chapel" data-lang="Chapel"><span class="line"><span class="cl"><span class="c1">// Somewhere in library code, perhaps:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">proc</span><span class="w"> </span><span class="nf">someComplexFunction</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">,</span><span class="w"> </span><span class="nx">z</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// Now, in your editor:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">someComplexFunction</span><span class="p">(</span><span class="nx">z</span><span class="o">=</span><span class="s">"Hello"</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">=</span><span class="mf">42.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">someComplexFunction</span><span class="p">(</span><span class="nx">z</span><span class="o">=</span><span class="s">"Hello"</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">=</span><span class="mf">42.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="p">(</span><span class="nx">first</span><span class="p">,</span><span class="w"> </span><span class="nx">second</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">someComplexFunction</span><span class="p">(</span><span class="nx">z</span><span class="o">=</span><span class="s">"Hello"</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">=</span><span class="mf">42.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">operator</span><span class="w"> </span><span class="nf">+</span><span class="p">(</span><span class="kd">param</span><span class="w"> </span><span class="nx">left</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kd">param</span><span class="w"> </span><span class="nx">right</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kd">param</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">__primitive</span><span class="p">(</span><span class="s">"+"</span><span class="p">,</span><span class="w"> </span><span class="nx">left</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nx">firstParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nx">secondParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">firstParam</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">param</span><span class="w"> </span><span class="nx">thirdParam</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="nx">firstParam</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nx">thirdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"hello"</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nx">thirdParam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"goodbye"</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">assignOneToAnother</span><span class="p">(</span><span class="kd">ref</span><span class="w"> </span><span class="nx">changeMe</span><span class="p">,</span><span class="w"> </span><span class="nx">changeTo</span><span class="p">:</span><span class="w"> </span><span class="nx">changeMe</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nx">changeMe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">changeTo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nx">myIntVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">41</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nx">assignOneToAnother</span><span class="p">(</span><span class="nx">myIntVar</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nx">myStringVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"hello"</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nx">assignOneToAnother</span><span class="p">(</span><span class="nx">myStringVar</span><span class="p">,</span><span class="w"> </span><span class="s">"world"</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">typeSupportsEfficientOperation</span><span class="p">(</span><span class="kd">type</span><span class="w"> </span><span class="nx">t</span><span class="p">)</span><span class="w"> </span><span class="kd">param</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">int</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">doEfficientOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">doSlowOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mf">3.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.14</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">proc</span><span class="w"> </span><span class="nf">genericFunction</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="nx">typeSupportsEfficientOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">doEfficientOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">doSlowOperation</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nx">genericFunction</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nx">genericFunction</span><span class="p">(</span><span class="s">"hello"</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</details>
</div>
<h3 id="conclusion">
<a href="#conclusion">Conclusion</a>
</h3>
<p>With the Chapel Language Server, Chapel users have gained a powerful new tool
to read and write Chapel code. We have shown off many of the features that CLS
provides, with a glimpse of what’s on the horizon.  We hope that you will give
it a try and let us know what you think!</p>
<p>To try CLS, check out our list of supported editors
<a href="https://chapel-lang.org/docs/2.0/tools/chpl-language-server/chpl-language-server.html#getting-started" rel="noopener" target="_blank">here</a>.
If you have any questions or feedback, please feel free to reach out to the
Chapel team!</p>
</div>
</main>
<div class="container">
<div class="share-view">
<h3>Share this article:</h3>
<div class="share-buttons">
<a class="button share-button" href="https://bsky.app/intent/compose?text=Check+out+this+post+entitled+%22Supercharged+Chapel+Editor+Support%22+on+the+Chapel+Programming+Language+blog%3A+https%3A%2F%2Fchapel-lang.org%2Fblog%2Fposts%2Fchapel-lsp%2F" rel="noopener noreferrer" style="--button-color: #6cb0f9; --button-color-light: white;" target="_blank">
<img alt="Share on BlueSky" height="30" src="../../img/bluesky-logo.jpg" width="30"/>
</a>
<a class="button share-button" href="https://www.facebook.com/sharer/sharer.php?description=Check+out+this+post+entitled+%22Supercharged+Chapel+Editor+Support%22+on+the+Chapel+Programming+Language+blog%3A&amp;u=https%3A%2F%2Fchapel-lang.org%2Fblog%2Fposts%2Fchapel-lsp%2F" rel="noopener noreferrer" style="--button-color: #3a559f; --button-color-light: white;" target="_blank">
<img alt="Share on Facebook" height="30" src="../../img/facebook-logo.png" width="30"/>
</a>
<a class="button share-button" href="https://linkedin.com/share?text=Check+out+this+post+entitled+%22Supercharged+Chapel+Editor+Support%22+on+the+Chapel+Programming+Language+blog%3A&amp;url=https%3A%2F%2Fchapel-lang.org%2Fblog%2Fposts%2Fchapel-lsp%2F" rel="noopener noreferrer" style="--button-color: #2867b2; --button-color-light: white;" target="_blank">
<img alt="Share on LinkedIn" height="30" src="../../img/linkedin-logo.png" width="30"/>
</a>
<a class="button share-button" href="https://new.reddit.com/submit?title=Supercharged+Chapel+Editor+Support&amp;url=https%3A%2F%2Fchapel-lang.org%2Fblog%2Fposts%2Fchapel-lsp%2F" rel="noopener noreferrer" style="--button-color: #ff4500; --button-color-light: white;" target="_blank">
<img alt="Share on Reddit" height="30" src="../../img/reddit-logo.svg" width="30"/>
</a>
<a class="button share-button" href="http://x.com/share?text=Check+out+this+post+entitled+%22Supercharged+Chapel+Editor+Support%22+on+the+Chapel+Programming+Language+blog%3A&amp;url=https%3A%2F%2Fchapel-lang.org%2Fblog%2Fposts%2Fchapel-lsp%2F" rel="noopener noreferrer" style="--button-color: #000000; --button-color-light: #7a7a7a;" target="_blank">
<img alt="Share on X" height="30" src="../../img/x-logo.svg" width="30"/>
</a>
</div>
</div>
</div>
</body>
</html>
